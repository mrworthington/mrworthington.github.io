<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>R</title>
  <meta property="og:title" content="R" />
  <meta name="twitter:title" content="R" />
  <meta name="author" content="Matt Worthington"/>
  <link href='../../img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@mrworthington" />
  <meta name="twitter:creator" content="@mrworthington" />
  <meta property="og:url" content="/tags/r/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Matt Worthington" />


  <meta name="generator" content="Hugo 0.36" />
  <link rel="canonical" href="../../tags/r/" />
  <link rel="alternate" href="../../index.xml" type="application/rss+xml" title="Matt Worthington">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="../../css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,400,400i,600" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,600" />  
  <link rel="stylesheet" href="../../css/highlight.min.css" />



</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../">Matt Worthington</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Home" href="../../">Home</a>
            </li>
          
        
          
            <li>
              <a title="About" href="../../page/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Resume" href="../../page/resume/">Resume</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="../../tags">Tags</a>
            </li>
          
        

        


        
      </ul>
    </div>




  </div>
</nav>




    
  <header class="header-section ">
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="page-heading">
              <h1>#R</h1>
              <hr class="small">
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

    
  <div class="container" role="main">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        
        <div class="posts-list">
          
            <article class="post-preview">
              <a href="../../2018/03/12/an-exploration-of-simple-features-for-r/">
                <h2 class="post-title">An Exploration of Simple Features for R</h2>
    
                
                  <h3 class="post-subtitle">
                    Building sfg, sfc, and sf objects from the sf package
                  </h3>
                
              </a>
    
              <p class="post-meta">
                Posted on March 12, 2018
              </p>
              <div class="post-entry">
                
                  <p>My <a href="https://jessesadler.com/post/gis-with-r-intro/">previous post</a> provided an introduction to the <a href="https://cran.r-project.org/web/packages/sp/index.html"><code>sp</code></a> and <a href="https://cran.r-project.org/web/packages/sf/index.html"><code>sf</code></a> packages, showing how the two packages represent spatial data in R. There I discussed the creation of <code>Spatial</code> and <code>sf</code> objects from data with longitude and latitude values and the process of making maps with the two packages. In this post I will go further into the details of the <code>sf</code> package by examining the structure of <code>sf</code> objects and how the package implements the <a href="http://www.opengeospatial.org/standards/sfa">Simple Features open standard</a>.</p>
                  <a href="../../2018/03/12/an-exploration-of-simple-features-for-r/" class="post-read-more">[Read More]</a>
                
              </div>
    
              
                <span class="post-meta">
                  
                    #<a href="../../tags/r">r</a>&nbsp;
                  
                </span>
              
    
            </article>
          
            <article class="post-preview">
              <a href="../../2018/02/07/introduction-to-gis-with-r/">
                <h2 class="post-title">Introduction to GIS with R</h2>
    
                
                  <h3 class="post-subtitle">
                    Spatial data with the sp and sf packages
                  </h3>
                
              </a>
    
              <p class="post-meta">
                Posted on February 7, 2018
              </p>
              <div class="post-entry">
                
                  <p>The geographic visualization of data makes up one of the major branches of the Digital Humanities toolkit. There are a plethora of tools that can visualize geographic information from full-scale GIS applications such as <a href="https://www.esri.com">ArcGIS</a> and <a href="https://qgis.org">QGIS</a> to web-based tools like <a href="http://maps.google.com">Google maps</a> to any number of programing languages. There are advantages and disadvantages to these different types of tools. Using a command-line interface <a href="https://jessesadler.com/post/excel-vs-r/">has a steep learning curve</a>, but it has the benefit of enabling approaches to analysis and visualization that are customizable, transparent, and reproducible.<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup> My own interest in coding and <a href="https://www.r-project.org">R</a> began with my desire to dip my toes into <a href="https://en.wikipedia.org/wiki/Geographic_information_system">geographic information systems (GIS)</a> and create maps of an early modern correspondence network. The goal of this post is to introduce the basic landscape of working with spatial data in R from the perspective of a non-specialist. Since the early 2000s, an active community of R developers has built a wide variety of packages to enable R to interface with geographic data. The extent of the geographic capabilities of R is readily apparent from the many packages listed in the <a href="https://cran.r-project.org/web/views/Spatial.html">CRAN task view for spatial data</a>.<sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup></p>

<p>In my previous post on <a href="https://jessesadler.com/post/geocoding-with-r/">geocoding with R</a> I showed the use of the <a href="https://cran.r-project.org/web/packages/ggmap/index.html"><code>ggmap</code></a> package to geocode data and create maps using the <a href="http://ggplot2.tidyverse.org"><code>ggplot2</code></a> system. This post will build off of the location data obtained there to introduce the two main R packages that have standardized the use of spatial data in R. The<a href="https://cran.r-project.org/web/packages/sp/index.html"><code>sp</code></a> and <a href="https://cran.r-project.org/web/packages/sf/index.html"><code>sf</code></a> packages use different methodologies for integrating spatial data into R. The <code>sp</code> package introduced a coherent set of classes and methods for handling spatial data in 2005.<sup class="footnote-ref" id="fnref:3"><a rel="footnote" href="#fn:3">3</a></sup> The package remains the backbone of many packages that provide GIS capabilities in R. The <code>sf</code> package implements the <a href="https://cran.r-project.org/web/packages/sf/vignettes/sf1.html">simple features</a> open standard for the representation of geographic vector data in R. The package first appeared on <a href="http://cran.r-project.org">CRAN</a> at the end of 2016 and is under very active development. The <code>sf</code> package is <a href="https://www.r-consortium.org/blog/2017/01/03/simple-features-now-on-cran">meant to supersede <code>sp</code></a>, implementing ways to store spatial data in R that <a href="https://edzer.github.io/UseR2017/" title="Edzer Pebesma, Spatial Data in R: New Directions">integrate with the tidyverse workflow</a> of the <a href="http://tidyverse.org">packages developed by Hadley Wickham and others</a>.</p>

<p>There are a number of good resources on working with spatial data in R. The best sources for information about the <code>sp</code> and <code>sf</code> packages that I have found are Roger Bivand, Edzer Pebesma, and Virgilio Gómez-Rubio, <em>Applied Spatial Data Analysis with R</em> (2013) and the working book <a href="https://geocompr.robinlovelace.net">Robin Lovelace, Jakub Nowosad, Jannes Muenchow, <em>Geocomputation with R</em></a>, which concentrate on <code>sp</code> and <code>sf</code> respectively. The <a href="https://cran.r-project.org/web/packages/sf/">vignettes</a> for <code>sf</code> are also very helpful. The perspective that I adopt in this post is slightly different from these resources. In addition to more explicitly comparing <code>sp</code> and <code>sf</code>, this post approaches the two packages from the starting point of working with geocoded data with longitude and latitude values that must be transformed into spatial data. It takes the point of view of someone getting into GIS and does not assume that you are working with data that is already in a spatial format. In other words, this post provides information that I wish I knew as I learned to work with spatial data in R. Therefore, I begin the post with a general overview of spatial data and how <code>sp</code> and <code>sf</code> implement the representation of spatial data in R. The second half of the post uses an example of mapping the locations of letters sent to a Dutch merchant in 1585 to show how to create, work with, and plot <code>sp</code> and <code>sf</code> objects. I highlight the differences between the two packages and ultimately discuss some reasons why the R spatial community is moving towards the use of the <code>sf</code> package.</p>

<p></p>
                  <a href="../../2018/02/07/introduction-to-gis-with-r/" class="post-read-more">[Read More]</a>
                
              </div>
    
              
                <span class="post-meta">
                  
                    #<a href="../../tags/dh-2.0">dh-2.0</a>&nbsp;
                  
                    #<a href="../../tags/r">r</a>&nbsp;
                  
                </span>
              
    
            </article>
          
            <article class="post-preview">
              <a href="../../2017/10/25/introduction-to-network-analysis-with-r/">
                <h2 class="post-title">Introduction to Network Analysis with R</h2>
    
                
                  <h3 class="post-subtitle">
                    Creating static and interactive network graphs
                  </h3>
                
              </a>
    
              <p class="post-meta">
                Posted on October 25, 2017
              </p>
              <div class="post-entry">
                
                  <p>Over a wide range of fields network analysis has become an increasingly popular tool for scholars to deal with the complexity of the interrelationships between actors of all sorts. The promise of network analysis is the placement of significance on the relationships between actors, rather than seeing actors as isolated entities. The emphasis on complexity, along with the creation of a variety of algorithms to measure various aspects of networks, makes network analysis a central tool for digital humanities.<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup> This post will provide an introduction to working with networks in <a href="https://www.r-project.org">R</a>, using the example of the network of cities in the correspondence of <a href="https://jessesadler.com/project/dvdm-correspondence/">Daniel van der Meulen</a> in 1585.</p>

<p>There are a number of applications designed for network analysis and the creation of network graphs such as <a href="https://gephi.org">gephi</a> and <a href="http://cytoscape.org">cytoscape</a>. Though not specifically designed for it, R has developed into a powerful tool for network analysis. The strength of R in comparison to stand-alone network analysis software is three fold. In the first place, <a href="https://jessesadler.com/post/excel-vs-r/">R enables reproducible research</a> that is not possible with GUI applications. Secondly, the data analysis power of R provides robust tools for manipulating data to prepare it for network analysis. Finally, there is an ever growing range of packages designed to make R a complete network analysis tool. Significant network analysis packages for R include the <a href="http://www.statnet.org">statnet suite</a> of packages and <a href="http://igraph.org"><code>igraph</code></a>. In addition, <a href="http://www.data-imaginist.com">Thomas Lin Pedersen</a> has recently released the <a href="https://cran.r-project.org/web/packages/tidygraph/index.html"><code>tidygraph</code></a> and <a href="https://cran.r-project.org/web/packages/ggraph/index.html"><code>ggraph</code></a> packages that leverage the power of <code>igraph</code> in a manner consistent with the <a href="http://www.tidyverse.org">tidyverse</a> workflow. R can also be used to make interactive network graphs with the <a href="http://www.htmlwidgets.org">htmlwidgets framework</a> that translates R code to JavaScript.</p>

<p>This post begins with a short introduction to the basic vocabulary of network analysis, followed by a discussion of the process for getting data into the proper structure for network analysis. The network analysis packages have all implemented their own object classes. In this post, I will show how to create the specific object classes for the statnet suite of packages with the <a href="https://cran.r-project.org/web/packages/network/index.html"><code>network</code></a> package, as well as for <code>igraph</code> and <code>tidygraph</code>, which is based on the <code>igraph</code> implementation. Finally, I will turn to the creation of interactive graphs with the <a href="http://datastorm-open.github.io/visNetwork/"><code>vizNetwork</code></a> and <a href="http://christophergandrud.github.io/networkD3/"><code>networkD3</code></a> packages.</p>

<p></p>
                  <a href="../../2017/10/25/introduction-to-network-analysis-with-r/" class="post-read-more">[Read More]</a>
                
              </div>
    
              
                <span class="post-meta">
                  
                    #<a href="../../tags/dh-2.0">dh-2.0</a>&nbsp;
                  
                    #<a href="../../tags/r">r</a>&nbsp;
                  
                </span>
              
    
            </article>
          
            <article class="post-preview">
              <a href="../../2017/10/13/geocoding-with-r/">
                <h2 class="post-title">Geocoding with R</h2>
    
                
                  <h3 class="post-subtitle">
                    Using ggmap to geocode and map historical data
                  </h3>
                
              </a>
    
              <p class="post-meta">
                Posted on October 13, 2017
              </p>
              <div class="post-entry">
                
                  <p>In the <a href="https://jessesadler.com/post/excel-vs-r/">previous post</a> I discussed some reasons to use <a href="https://www.r-project.org">R</a> instead of Excel to analyze and visualize data and provided a brief introduction to the R programming language. That post used an example of letters sent to the sixteenth-century merchant <a href="https://jessesadler.com/project/dvdm-correspondence/">Daniel van der Meulen</a> in 1585. One aspect missing from the analysis was a geographical visualization of the data. This post will provide an introduction to geocoding and mapping location data using the <a href="https://cran.r-project.org/web/packages/ggmap/index.html">ggmap</a> package for R, which enables the creation of maps with <a href="http://ggplot2.tidyverse.org">ggplot</a>. There are a number of websites that can help geocode location data and even create maps.<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup> You could also use a full-scale geographic information systems (GIS) application such as <a href="https://qgis.org">QGIS</a> or <a href="https://esri.com">ArcGIS</a>. However, an active developer community has made it possible to complete a full range of geographic analysis from geocoding data to the creation of publication-ready maps with R.<sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup> Geocoding and mapping data with R instead of a web or GIS application brings the general advantages of using a programming language in analyzing and visualizing data. With R, you can write the code once and use it over and over, while also providing a record of all your steps in the creation of a map.<sup class="footnote-ref" id="fnref:3"><a rel="footnote" href="#fn:3">3</a></sup></p>

<p>This post will merely scratch the surface of the mapping capabilities of R and will not enter into the domain of the more complex specific geographic packages available for R.<sup class="footnote-ref" id="fnref:4"><a rel="footnote" href="#fn:4">4</a></sup> Instead, it will build on the <a href="http://dplyr.tidyverse.org">dplyr</a> and <a href="http://ggplot2.tidyverse.org">ggplot</a> skills discussed in <a href="https://jessesadler.com/post/excel-vs-r/">my brief introduction to R</a>. The example of geocoding and mapping with R will also provide another opportunity to show the advantages of coding. In particular, geocoding is a good example of how code can simplify the workflow for entering data. Instead of dealing with separate spreadsheets to store information about the letters and geographic information, coding makes it possible to create the geographic information directly from the letters data. The code to find the longitude and latitude of locations can be saved as a R script and rerun if new data is added to ensure that the information is always kept up to date.</p>

<p></p>
                  <a href="../../2017/10/13/geocoding-with-r/" class="post-read-more">[Read More]</a>
                
              </div>
    
              
                <span class="post-meta">
                  
                    #<a href="../../tags/dh-2.0">dh-2.0</a>&nbsp;
                  
                    #<a href="../../tags/r">r</a>&nbsp;
                  
                </span>
              
    
            </article>
          
            <article class="post-preview">
              <a href="../../2017/10/02/excel-vs-r-a-brief-introduction-to-r/">
                <h2 class="post-title">Excel vs R: A Brief Introduction to R</h2>
    
                
                  <h3 class="post-subtitle">
                    With examples using dplyr and ggplot
                  </h3>
                
              </a>
    
              <p class="post-meta">
                Posted on October 2, 2017
              </p>
              <div class="post-entry">
                
                  <p>Quantitative research often begins with the humble process of counting. Historical documents are never as plentiful as a historian would wish, but counting words, material objects, court cases, etc. can lead to a better understanding of the sources and the subject under study. When beginning the process of counting, the first instinct is to open a spreadsheet. The end result might be the production of tables and charts created in the very same spreadsheet document. In this post, I want to show why this spreadsheet-centric workflow is problematic and recommend the use of a programming language such as <a href="https://www.r-project.org">R</a> as an alternative for both analyzing and visualizing data. There is no doubt that the learning curve for R is much steeper than producing one or two charts in a spreadsheet. However, there are real long-term advantages to learning a dedicated data analysis tool like R. Such advice to learn a programming language can seem both daunting and vague, especially <a href="https://jessesadler.com/post/new-kinds-of-projects/">if you do not really understand what it means to code</a>. For this reason, after discussing why it is preferable to analyze data with R instead of a spreadsheet program, this post provides a brief introduction to R, as well as an example of analysis and visualization of historical data with R.<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup></p>

<p>The draw of the spreadsheet is strong. As I first thought about ways to keep track of and analyze the thousands of letters in the <a href="https://jessesadler.com/project/dvdm-correspondence/">Daniel van der Meulen Archive</a>, I automatically opened up <a href="https://www.apple.com/numbers/">Numbers</a> — the spreadsheet software I use most often — and started to think about what columns I would need to create to document information about the letters. Whether one uses Excel, Numbers, Google Sheets or any other spreadsheet program, the basic structure and capabilities are well known. They all provide more-or-less aesthetically pleasing ways to easily enter data, view subsets of the data, and rearrange the rows based on the values of the various columns. But, of course, spreadsheet programs are more powerful than this, because you can add in your own programatic logic into cells to combine them in seemingly endless ways and produce graphs and charts from the results. The spreadsheet, after all, was <a href="https://en.wikipedia.org/wiki/VisiCalc">the first killer app</a>.</p>

<p><a href="https://giphy.com/gifs/11qAyKz9AbFEYM/html5">With great power, there must also come great responsibility</a>. Or, in the case of the spreadsheet, with great power there must also come great danger. The danger of the spreadsheet derives from its very structure. The mixture of data entry, analysis, and visualization makes it easy to confuse cells that contain raw data from those that are the product of analysis. The nature of defining programatic logic — such as which cells are to be added together — by mouse clicks means that a mistaken click or drag action can lead to errors or the overwriting of data. You only need to think about the dread of the moment when you go to close a spreadsheet and the program asks whether you would like to save changes. It makes you wonder. Do I want to save? What changes did I make? Because the logic in a spreadsheet is all done through mouse clicks, there is no way to effectively track what changes have been made either in one session or in the production of a chart. Excel mistakes can have wide-ranging consequences, as the controversy around the paper of <a href="https://www.marketplace.org/2013/04/17/economy/excel-mistake-heard-round-world" title="The Excel mistake heard round the world">Carmen Reinhart and Kenneth Rogoff on national debt made clear</a>.<sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup></p>

<p></p>
                  <a href="../../2017/10/02/excel-vs-r-a-brief-introduction-to-r/" class="post-read-more">[Read More]</a>
                
              </div>
    
              
                <span class="post-meta">
                  
                    #<a href="../../tags/dh-2.0">dh-2.0</a>&nbsp;
                  
                    #<a href="../../tags/r">r</a>&nbsp;
                  
                </span>
              
    
            </article>
          
        </div>

        
      </div>
    </div>
  </div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="https://github.com/mrworthington" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/mrworthington" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/mattworthington" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li> 
            <a href="../../index.xml" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
  
        </ul>
        <p class="credits copyright text-muted">
          Matt Worthington
          &nbsp;&bull;&nbsp;
          2018

         
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.36</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="../../js/main.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script> hljs.configure({languages: ["r"]}); hljs.initHighlightingOnLoad();</script>


<script> renderMathInElement(document.body); </script>
<script src= "/js/bigfoot.js"></script>
<script> $.bigfoot(); </script>







  </body>
</html>

